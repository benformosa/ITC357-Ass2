TODO:
write report
user: update profile
contact: new table. add a row when user sends to a new recipient for the first time
messages: add column date and time
recipient: read and unread
recipient: cc, bcc


Submit database dump - i.e. text file of SQL statements. 

JSTL library:
http://central.maven.org/maven2/javax/servlet/jstl/1.2/jstl-1.2.jar


multiple recipients:

insert into messages (sender, subject, body) values ('a','hi', 'hello');
insert into recipients (messageid, recipient) values (1, 'harvey');
insert into recipients (messageid, recipient) values (1, 'b');

insert into messages (sender, subject, body) values ('harvey','foo', 'ahoy');
insert into recipients (messageid, recipient) values (2, 'a');

#get messages by recipient
select messages.id, messages.sender, recipients.recipient, messages.subject, messages.body 
from messages 
inner join recipients on messages.id = recipients.messageid
where recipients.recipient = 'a' and recipients.trash = ?;

#get message by id and recipient
select messages.id, messages.sender, recipients.recipient, messages.subject, messages.body 
from messages 
inner join recipients on messages.id = recipients.messageid
 where messages.id = 1 and recipient = 'harvey';
 
#get recipients of message by id
select  recipients.recipient
from messages 
inner join recipients on messages.id = recipients.messageid
 where messages.id = 1;

#delete recipient by messageid and recipient
delete from recipients where messageid = 1 and recipient = 'harvey';

#delete message by id
delete from messages where id = 1

#get users user has contacted
select sender, recipient
from contact 
where sender = 'a';